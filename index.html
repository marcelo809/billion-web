<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>BILLION — Financial Intelligence</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root{
      --bg:#0b0f19;
      --panel:#111827;
      --panel2: rgba(255,255,255,.04);
      --stroke: rgba(255,255,255,.10);
      --text:#ffffff;
      --muted:#9aa4b2;
      --brand:#22c55e;
      --warn:#f59e0b;
      --shadow: 0 18px 40px rgba(0,0,0,.35);
      --radius:16px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: radial-gradient(1200px 600px at 20% 10%, rgba(34,197,94,.14), transparent 60%),
                  radial-gradient(900px 500px at 90% 20%, rgba(59,130,246,.12), transparent 55%),
                  var(--bg);
      color: var(--text);
    }

    .container{
      max-width:1200px;
      margin:0 auto;
      padding:28px 22px 50px;
    }

    /* Top bar */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      padding:10px 0 22px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .logo{
      width:36px;height:36px;border-radius:12px;
      background: linear-gradient(135deg, rgba(34,197,94,.95), rgba(59,130,246,.85));
      box-shadow: var(--shadow);
    }
    .brand h1{
      margin:0;
      font-size:18px;
      letter-spacing:.4px;
    }
    .brand span{
      display:block;
      margin-top:2px;
      font-size:12px;
      color:var(--muted);
    }

    .nav{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .btn{
      appearance:none;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      color: var(--text);
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      font-weight:600;
      font-size:13px;
    }
    .btn:hover{ filter: brightness(1.08); }
    .btn.primary{
      border:1px solid rgba(34,197,94,.40);
      background: rgba(34,197,94,.16);
    }
    .btn.ghost{
      background: transparent;
    }
    .btn.active{
      border-color: rgba(59,130,246,.45);
      background: rgba(59,130,246,.14);
    }

    /* Headings */
    .heroTitle{
      font-size:56px;
      font-weight:800;
      margin:14px 0 6px;
      letter-spacing:.6px;
    }
    .heroSub{
      color:var(--muted);
      margin:0 0 26px;
      font-size:18px;
    }

    /* Cards */
    .grid{
      display:grid;
      grid-template-columns: repeat(4, minmax(180px, 1fr));
      gap:18px;
    }
    @media (max-width: 1000px){
      .grid{ grid-template-columns: repeat(2, minmax(180px, 1fr)); }
      .heroTitle{ font-size:44px; }
    }
    @media (max-width: 520px){
      .grid{ grid-template-columns: 1fr; }
      .heroTitle{ font-size:38px; }
    }

    .card{
      background: rgba(17,24,39,.75);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 22px;
      padding:22px 22px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }
    .label{
      color:var(--muted);
      font-size:13px;
      margin-bottom:10px;
      letter-spacing:.2px;
    }
    .big-number{
      font-size:48px;
      font-weight:800;
      letter-spacing:.2px;
    }
    .big-number.small{
      font-size:40px;
    }

    /* Pages */
    .page{ display:none; }
    .page.active{ display:block; }

    .section{
      background: rgba(17,24,39,.65);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 22px;
      padding:18px;
      box-shadow: var(--shadow);
    }
    .section h3{
      margin:0 0 10px;
      font-size:16px;
    }

    .pageTitle{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      margin: 6px 0 14px;
    }
    .pageTitle h2{
      margin:0;
      font-size:22px;
    }
    .pageTitle p{
      margin:6px 0 0;
      color:var(--muted);
      font-size:13px;
    }

    .badge{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      padding:8px 10px;
      border-radius:999px;
      font-weight:700;
      font-size:12px;
      white-space:nowrap;
    }
    .badge.warn{
      border-color: rgba(245,158,11,.35);
      background: rgba(245,158,11,.12);
      color: #ffd79a;
    }

    .muted{ color: var(--muted); }
    .hint{ color: var(--muted); font-size:12px; margin:12px 0 0; }

    .twoCol{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:16px;
      margin-top:10px;
    }
    @media (max-width: 1000px){
      .twoCol{ grid-template-columns: 1fr; }
    }

    pre{
      white-space: pre-wrap;
      margin: 0;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:13px;
      line-height:1.55;
      color: var(--text);
    }

    input, textarea, select{
      width:100%;
    }

    .footer{
      margin-top:22px;
      color: var(--muted);
      font-size:12px;
      opacity:.9;
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- TOPBAR -->
    <div class="topbar">
      <div class="brand">
        <div class="logo"></div>
        <div>
          <h1>BILLION</h1>
          <span>Advisor OS • RIA-first</span>
        </div>
      </div>

      <div class="nav">
        <button class="btn active" id="navDashboard">Dashboard</button>
        <button class="btn" id="navReports">Reports</button>
      </div>
    </div>

    <!-- PAGE: DASHBOARD -->
    <section class="page active" id="page-dashboard">
      <div class="heroTitle">BILLION</div>
      <div class="heroSub">Financial Intelligence for RIAs and Smart Investors</div>

      <div class="grid">
        <div class="card">
          <div class="label">Portfolio Value</div>
          <div class="big-number">$3,698</div>
        </div>

        <div class="card">
          <div class="label">Daily P&amp;L</div>
          <div class="big-number small">-0.43%</div>
        </div>

        <div class="card">
          <div class="label">AI Risk Score</div>
          <div class="big-number small">72 / 100</div>
        </div>

        <div class="card">
          <div class="label">Benchmark vs QQQ</div>
          <div class="big-number small">+1.8%</div>
        </div>
      </div>

      <div class="footer">MVP: Dashboard + Reporte Maestro. Próximo: parsing PDF, métricas, benchmark real, y export.</div>
    </section>

    <!-- PAGE: REPORTS -->
    <section class="page" id="page-reports">
      <div class="pageTitle">
        <div>
          <h2>Reports</h2>
          <p>Genera un Reporte Maestro (RIA) desde datos del PDF LSEG (manual por ahora).</p>
        </div>
        <div class="badge warn">Manual → Auto</div>
      </div>

      <div class="twoCol">
        <div class="section">
          <h3>Input (LSEG → Manual)</h3>
          <p class="muted" style="margin-top:0">
            Copia los datos clave del PDF y pégalos aquí. (Fase 2: parsing automático del PDF.)
          </p>

          <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px">
            <input id="r_ticker" placeholder="Ticker (ej: RACE)" style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;">
            <input id="r_name" placeholder="Nombre (ej: Ferrari N.V.)" style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;">

            <input id="r_price" placeholder="Precio (ej: 450.20)" style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;">
            <input id="r_mcap" placeholder="Market Cap (ej: 80B)" style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;">

            <input id="r_52w" placeholder="52W Range (ej: 380–480)" style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;">
            <input id="r_pe" placeholder="P/E (TTM / FWD) (ej: 45 / 38)" style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;">

            <input id="r_roe" placeholder="ROE (ej: 32%)" style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;">
            <input id="r_rev" placeholder="Ingresos anuales (ej: 6.0B)" style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;">
          </div>

          <div style="margin-top:12px; display:grid; gap:10px">
            <textarea id="r_overview" rows="3" placeholder="Perspectiva General (2–4 líneas)..." style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;resize:vertical;"></textarea>
            <textarea id="r_analysis" rows="4" placeholder="Análisis y Comentarios (eventos recientes, resultados, valoración)..." style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;resize:vertical;"></textarea>

            <textarea id="r_pos" rows="3" placeholder="Puntos Positivos (uno por línea)..." style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;resize:vertical;"></textarea>
            <textarea id="r_neg" rows="3" placeholder="Puntos Negativos (uno por línea)..." style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;resize:vertical;"></textarea>
          </div>

          <div style="margin-top:12px; display:grid; grid-template-columns: 1fr 1fr; gap:10px">
            <select id="r_rating" style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;">
              <option value="Mantener">Recomendación: Mantener</option>
              <option value="Comprar">Recomendación: Comprar</option>
              <option value="Vender">Recomendación: Vender</option>
            </select>
            <input id="r_profile" placeholder="Perfil (ej: Growth / Alto riesgo / Largo plazo)" style="padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);color:var(--text);outline:none;">
          </div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
            <button class="btn primary" id="btnBuildReport">Generate Report</button>
            <button class="btn ghost" id="btnCopyReport">Copy</button>
            <button class="btn ghost" id="btnClearReport">Clear</button>
          </div>

          <p class="hint">Tip: si no tienes un dato, déjalo vacío. El reporte igual sale.</p>
        </div>

        <div class="section">
          <h3>Reporte Maestro (Output)</h3>
          <p class="muted" style="margin-top:0">Se genera aquí listo para cliente / CRM.</p>

          <div class="card" style="margin-top:10px; box-shadow:none">
            <pre id="reportOut"></pre>
          </div>
        </div>
      </div>

      <div class="footer">Siguiente: “Paste PDF text → Auto-fill”, export a PDF/Doc, y guardado por cliente.</div>
    </section>
  </div>

  <script>
    // -------- NAV ----------
    const pageDashboard = document.getElementById('page-dashboard');
    const pageReports   = document.getElementById('page-reports');
    const navDashboard  = document.getElementById('navDashboard');
    const navReports    = document.getElementById('navReports');

    function showPage(which){
      const isDash = which === 'dashboard';
      pageDashboard.classList.toggle('active', isDash);
      pageReports.classList.toggle('active', !isDash);
      navDashboard.classList.toggle('active', isDash);
      navReports.classList.toggle('active', !isDash);
    }

    navDashboard?.addEventListener('click', () => showPage('dashboard'));
    navReports?.addEventListener('click', () => showPage('reports'));

    // -------- REPORT BUILDER (MVP) ----------
    function v(id){ return (document.getElementById(id)?.value || '').trim(); }

    function linesToBullets(txt){
      const arr = txt.split('\n').map(s => s.trim()).filter(Boolean);
      if(arr.length === 0) return '—';
      return arr.map(x => `- ${x}`).join('\n');
    }

    function buildReport(){
      const ticker = v('r_ticker') || 'TICKER';
      const name = v('r_name') || 'Company Name';

      const price = v('r_price');
      const mcap  = v('r_mcap');
      const range52 = v('r_52w');
      const pe = v('r_pe');
      const roe = v('r_roe');
      const rev = v('r_rev');

      const overview = v('r_overview') || '—';
      const analysis  = v('r_analysis') || '—';
      const positives = linesToBullets(v('r_pos'));
      const negatives = linesToBullets(v('r_neg'));

      const rating = v('r_rating') || 'Mantener';
      const profile = v('r_profile') || '—';

      const refDate = new Date().toLocaleDateString();

      const keyData = [
        `Fecha de referencia: ${refDate}`,
        price ? `Último precio: ${price}` : null,
        mcap ? `Capitalización de mercado: ${mcap}` : null,
        range52 ? `Rango 52 semanas: ${range52}` : null,
        pe ? `P/E (TTM / Forward): ${pe}` : null,
        roe ? `ROE: ${roe}` : null,
        rev ? `Ingresos anuales: ${rev}` : null
      ].filter(Boolean).map(x => `- ${x}`).join('\n') || '—';

      const out =
`**${name} (${ticker})**

**1. Perspectiva General**
${overview}

**2. Datos Clave del Ticker**
${keyData}

**3. Análisis y Comentarios**
${analysis}

**4. Puntos Positivos**
${positives}

**5. Puntos Negativos**
${negatives}

**6. Conclusión y Recomendación**
Recomendación: **${rating}**
Perfil de inversor adecuado: ${profile}
`;

      const el = document.getElementById('reportOut');
      if(el) el.textContent = out;
    }

    document.getElementById('btnBuildReport')?.addEventListener('click', buildReport);

    document.getElementById('btnCopyReport')?.addEventListener('click', async () => {
      const txt = document.getElementById('reportOut')?.textContent || '';
      if(!txt.trim()){ alert('Primero genera el reporte.'); return; }
      try{
        await navigator.clipboard.writeText(txt);
        alert('Copiado.');
      }catch(e){
        alert('No se pudo copiar. Selecciona y copia manualmente.');
      }
    });

    document.getElementById('btnClearReport')?.addEventListener('click', () => {
      [
        'r_ticker','r_name','r_price','r_mcap','r_52w','r_pe','r_roe','r_rev',
        'r_overview','r_analysis','r_pos','r_neg','r_profile'
      ].forEach(id => {
        const el = document.getElementById(id);
        if(el) el.value = '';
      });
      const out = document.getElementById('reportOut');
      if(out) out.textContent = '';
    });
  </script>
</body>
</html>
